language: java
jdk:
  - openjdk8
  - openjdk9
#  - oraclejdk11
  - openjdk10
  - openjdk11
# we run the unit tests.
# We have no integration tests as yet

install:
  - wget https://github.com/sormuras/bach/raw/master/install-jdk.sh
  - cp src/main/toolchains/travis-ci.xml $HOME/.m2/toolchains.xml
  -  echo $HOME
  - mkdir $HOME/openjdk9
  - mkdir $HOME/oraclejdk11
  - mkdir $HOME/openjdk12
  - source ./install-jdk.sh --emit-java-home --feature 9 --target $HOME/openjdk9
  - source ./install-jdk.sh --emit-java-home --feature 12 --target $HOME/openjdk12
script:
    "mvn --show-version --errors --batch-mode clean test"
cache:
    directories:
    - $HOME/.m2
branches:
    except:
        - gh-pages
notifications:
    email:
        - russ@russgold.net
