<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.4 at 2016-03-01 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>SimpleStub - 
    SimpleStub: Overview</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20160301" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                SimpleStub
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                    
                <div class="xleft">
        <span id="publishDate">Last Published: 2016-03-01</span>
                  &nbsp;| <span id="projectVersion">Version: 1.2.4</span>
                      </div>
            <div class="xright">                    <a href="http://simplestub.java.net" class="externalLink" title="SimpleStub">SimpleStub</a>
              
                    
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                    
                                <h5>Description</h5>
                  <ul>
                  <li class="none">
            <strong>Overview</strong>
          </li>
                  <li class="none">
                          <a href="started.html" title="Getting Started">Getting Started</a>
            </li>
                  <li class="none">
                          <a href="additional.html" title="Additional Use Cases">Additional Use Cases</a>
            </li>
                  <li class="none">
                          <a href="statics.html" title="Handling static variables">Handling static variables</a>
            </li>
                  <li class="none">
                          <a href="properties.html" title="Handling system properties">Handling system properties</a>
            </li>
                  <li class="none">
                          <a href="classloaders.html" title="Handling class loaders">Handling class loaders</a>
            </li>
                  <li class="none">
                          <a href="javassist.html" title="Using Javassist instead of ASM">Using Javassist instead of ASM</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                        <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
                    
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        



    <div class="section">
<h2>Overview<a name="Overview"></a></h2>
    
<p>When writing unit tests, it is often necessary to create objects that are passed to the System Under Test (SUT).
    These objects, sometimes known by the generic term, <i>test doubles</i>, sometimes need behavior, and sometimes not,
    but are usually required.</p>

    
<p>It is certainly possible to code these test doubles manually, often with the aid of an IDE. But that tends to
    clutter up a test class, and any addition of or change to methods in the base class or interface will require
    changes to the test, even if they are not being used.</p>

    
<p>A common way around this is to use Mock frameworks, specifying the behavior of only the methods of interest.
    But that specification can sometimes be difficult to read.</p>

    
<p>Simplestub takes a different approach. The developer writes only enough of a stub as needed by the test,
    ignoring any other methods. If a pure stub is wanted, the base interface or abstract class is sufficient.
    SimpleStub will then instantiate a suitable object, filling in any abstract methods automatically and invisibly.</p>

    
<p>For example, the <tt>java.io.ObjectOutput</tt> interface has 17 methods
    in JDK 1.6, but in a test that only expects to write byte arrays, the following stub could be sufficient:</p>
    
        
<div class="source">
<pre>
        <b>public abstract class</b> ObjectOutputStub <b>implements</b> ObjectOutput {

            <b>private</b> List&lt;<b>byte</b>[]&gt; bytes = <b>new</b> ArrayList&lt;<b>byte</b>[]&gt;
            <b>boolean</b> closed;

            <b>byte</b>[][] getWrittenBytes() { <b>return</b> b.toArray(<b>new byte</b>[][b.size()]); }
            <b>boolean</b> isClosed() { <b>return</b> closed; }

            <b>public void</b> write(<b>byte</b>[] b) { bytes.add(b); }
            <b>public void</b> close() { closed = true; }
        }</pre></div>
    

    The test class can be instantiated easily:
    
        
<div class="source">
<pre>
        <b>import</b> com.meterware.simplestub.Stub;

        ObjectOutputStub objectOutput = Stub.createStub(ObjectOutputStub.<b>class</b>);</pre></div>
    

    
<p>Calls to the defined <tt>write</tt> method will be captured, and may be retrieved as the test progresses.
        Any call to one of the other methods will do nothing. Alternately, one can set the <tt>strict</tt> parameter
        of the annotation. If it is set, calls to the undefined methods will throw an exception, generated by SimpleStub.
        This can be useful when working to understand the calls made by legacy code.
    </p>


</div>

      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              <?xml version="1.0" encoding="UTF-8"?>
<footer>Copyright Â© 2012-2016, Russell Gold. All Rights Reserved.</footer>
            </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>